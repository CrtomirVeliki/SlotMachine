(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}function r(e){var r=function(e){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(r)?r:r+""}function n(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(n=function(){return!!t})()}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}var a=function(){function r(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=function(e,r,i){return r=o(r),function(e,r){if(r&&("object"==t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(e,n()?Reflect.construct(r,i||[],o(e).constructor):r.apply(e,i))}(this,r,["PlayGame"])).winText=null,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(r,Phaser.Scene),a=r,(u=[{key:"preload",value:function(){this.load.image("symbol1","../images/sedem.png"),this.load.image("symbol2","../images/banana.png"),this.load.image("symbol3","../images/lubenica.png"),this.load.image("symbol4","../images/limona.png"),this.load.image("symbol5","../images/bar.png")}},{key:"create",value:function(){this.background=this.add.image(0,0,"background"),this.createReels(),this.createSpinButton()}},{key:"createReels",value:function(){this.reels=[];for(var t=0;t<3;t++){this.reels[t]=[];for(var e=0;e<3;e++){var r=this.add.sprite(330+75*e,200+75*t,"symbol1");this.reels[t][e]=r}}}},{key:"createSpinButton",value:function(){var t=this;this.add.text(365,450,"SPIN",{fontSize:"32px",color:"#fff"}).setInteractive().on("pointerdown",(function(){t.spinReels()}))}},{key:"spinReels",value:function(){this.clearWinText();for(var t=["symbol1","symbol2","symbol3","symbol4","symbol5"],e=0;e<3;e++)for(var r=0;r<3;r++){var n=Phaser.Math.Between(0,t.length-1);this.reels[e][r].setTexture(t[n])}this.checkWinCondition()}},{key:"checkWinCondition",value:function(){for(var t=!1,e=0;e<3;e++){var r=this.reels[e][0].texture.key;t=!0;for(var n=1;n<3;n++)if(this.reels[e][n].texture.key!==r){t=!1;break}if(t){this.displayWinText("You Win!");break}}t||this.displayWinText("No Win!")}},{key:"displayWinText",value:function(t){this.winText&&this.winText.destroy(),this.winText=this.add.text(330,400,t,{fontSize:"32px",color:"You Win!"===t?"#c9ff00":"#0f00ff"})}},{key:"clearWinText",value:function(){this.winText&&(this.winText.destroy(),this.winText=null)}}])&&e(a.prototype,u),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,u}();function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function f(t){var e=function(t){if("object"!=u(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==u(e)?e:e+""}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}var p=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,r){return e=s(e),function(t,e){if(e&&("object"==u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,r||[],s(t).constructor):e.apply(t,r))}(this,t,["PreloadGame"])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(t,Phaser.Scene),e=t,(r=[{key:"preload",value:function(){this.load.image("background","../images/background.jpg")}},{key:"create",value:function(){this.scene.start("PlayGame")}}])&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r}();window.onload=function(){var t={type:Phaser.CANVAS,width:800,height:600,pixelArt:!0,physics:{default:"arcade",arcade:{gravity:{y:0}}},scene:[p,a]};new Phaser.Game(t)}})();